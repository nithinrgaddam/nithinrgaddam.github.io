<!DOCTYPE hmtl>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width", initial-scale=1.0>
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Contact - Vritam</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="stylesheet" href="index.css">
  </head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HLJ7XDJ3E0"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HLJ7XDJ3E0');
  </script>
  <body>
    <header>
      <nav>
        <input type="checkbox" id="nav" class="hidden">
        <label for="nav" class="nav-btn">
          <i></i>
          <i></i>
          <i></i>
        </label>
        <div class="logo">
          <a href="index.html" id="logoLink"><img src=images/logo_copy.svg alt="Vritam Logo"></a>
        </div>
        <div class="nav-wrapper">
          <ul>
            <li><a href="index.html" id="homeLink">HOME</a></li>
            <li><a href="about.html" id="aboutLink">ABOUT</a></li>
            <li><a href="careers.html" id="careersLink">CAREERS</a></li>
            <li><a href="contact.html" id="contactLink">CONTACT</a></li>
            </ul>
        </div>
      </nav>
      <hr>
    </header>
    <script src="main.js"></script>
    <main>
      <div class="contact-container">
        <div class="title">Contact Us</div>
        <div class="contact-info">
          <p>Get in touch with us at: <strong>investor-relations@vritam.com</strong></p>
        </div>
        
        <form id="contactForm" class="contact-form">
          <!-- Web3Forms will be handled via JavaScript AJAX -->
          
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
            <div id="nameError" class="error-message" style="display: none;">Name is required.</div>
          </div>
          
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
            <div id="emailError" class="error-message" style="display: none;">Please enter a valid email address.</div>
          </div>
          
          <div class="form-group">
            <label for="message">Message:</label>
            <textarea id="message" name="message" rows="6" required placeholder=""></textarea>
            <div id="messageError" class="error-message" style="display: none;">Message must be at least 5 characters long.</div>
          </div>
          
          <button type="submit" class="submit-button" id="submitBtn">Submit</button>
          <div id="statusMessage" class="status-message" style="display: none;"></div>
        </form>
        
        <div class="location-section">
          <h2 class="location-title">Our Location</h2>
          <div class="location-details">
            <p class="address">
              <strong>3031 Tisch Way #110</strong><br>
              San Jose, CA 95128
            </p>
          </div>
          <div class="map-container">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3172.0905634442744!2d-121.93446812348628!3d37.38895353434127!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x808fcbdb21e5e7c9%3A0x4f3c6d7b8e9f0a5e!2s3031%20Tisch%20Way%20%23110%2C%20San%20Jose%2C%20CA%2095128!5e0!3m2!1sen!2sus!4v1699999999999!5m2!1sen!2sus" 
              width="100%" 
              height="400" 
              style="border:0; filter: grayscale(100%);" 
              allowfullscreen="" 
              loading="lazy" 
              referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </div>
    </main>

    <script>
      document.getElementById('contactForm').addEventListener('submit', async function(e) {
        e.preventDefault(); // Prevent default form submission
        
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();
        
        const nameError = document.getElementById('nameError');
        const emailError = document.getElementById('emailError');
        const messageError = document.getElementById('messageError');
        const statusMessage = document.getElementById('statusMessage');
        const submitBtn = document.getElementById('submitBtn');
        
        // Hide all error messages initially
        nameError.style.display = 'none';
        emailError.style.display = 'none';
        messageError.style.display = 'none';
        statusMessage.style.display = 'none';
        
        let hasErrors = false;
        
        // Validate name
        if (name.length === 0) {
          nameError.style.display = 'block';
          hasErrors = true;
        }
        
        // Validate email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
          emailError.style.display = 'block';
          hasErrors = true;
        }
        
        // Validate message
        if (message.length < 5) {
          messageError.style.display = 'block';
          hasErrors = true;
        }
        
        // Don't submit if there are errors
        if (hasErrors) {
          return;
        }
        
        // Show loading state
        submitBtn.textContent = 'Sending...';
        submitBtn.disabled = true;
        
        try {
          // Prepare form data for Web3Forms
          const formData = new FormData();
          formData.append('access_key', 'c833112e-de9d-49ee-9692-6b42f9dd5d48'); // Replace with actual access key
          formData.append('name', name);
          formData.append('email', email);
          formData.append('subject', `Contact Form: ${name}`);
          formData.append('message', `Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`);
          formData.append('to', 'investor-relations@vritam.com');
          
          // Submit form via AJAX
          const response = await fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            body: formData
          });
          
          const result = await response.json();
          
          if (result.success) {
            // Success - show success message and clear form
            statusMessage.textContent = 'Message sent successfully! We\'ll get back to you soon.';
            statusMessage.className = 'status-message success';
            statusMessage.style.display = 'block';
            
            // Clear the form
            document.getElementById('contactForm').reset();
          } else {
            // Error from Web3Forms
            throw new Error(result.message || 'Failed to send message');
          }
          
        } catch (error) {
          console.error('Error:', error);
          statusMessage.textContent = 'Failed to send message. Please try again or contact us directly at investor-relations@vritam.com';
          statusMessage.className = 'status-message error';
          statusMessage.style.display = 'block';
        } finally {
          // Reset button state
          submitBtn.textContent = 'Submit';
          submitBtn.disabled = false;
        }
      });
      
      // Real-time validation for name field
      document.getElementById('name').addEventListener('input', function() {
        const name = this.value.trim();
        const nameError = document.getElementById('nameError');
        
        if (name.length === 0) {
          nameError.style.display = 'block';
        } else {
          nameError.style.display = 'none';
        }
      });
      
      // Real-time validation for email field
      document.getElementById('email').addEventListener('input', function() {
        const email = this.value.trim();
        const emailError = document.getElementById('emailError');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (email.length > 0 && !emailRegex.test(email)) {
          emailError.style.display = 'block';
        } else {
          emailError.style.display = 'none';
        }
      });
      
      // Real-time validation for message field
      document.getElementById('message').addEventListener('input', function() {
        const message = this.value.trim();
        const messageError = document.getElementById('messageError');
        
        if (message.length > 0 && message.length < 5) {
          messageError.style.display = 'block';
        } else {
          messageError.style.display = 'none';
        }
      });
    </script>
  </body>

  <!-- Footer Section -->
  <footer>
      <div class="footer-content">
          <p id="copyright">Â© <a href="index.html">Vritam</a> | All Rights Reserved</p>
          <div class="logo">
              <!-- <img src=logo_copy.svg alt="Vritam Logo"> -->
          </div>
      </div>
  </footer>

</html>